<%- include('../../../partials/head.ejs') %>

<div class="container my-3">
    <div class="row">
        <div class="col-md-2">
            <%- include('../../../partials/sidebar.ejs') %>
        </div>

        <div class="col-md-8">
           <div class=" card card-body mx-5 my-5">
               <h5 class="my-2"><strong>Edit Your Post</strong></h5>
               <form action="/posts/edit/<%= post._id %>" method="POST" enctype="multipart/form-data">
                    <div class="form-group my-3">
                      <label for="title">Enter Your Post Title</label>
                      <input type="text" name="title" id="title" class="form-control <%= error.title ? 'is-invalid' : '' %>"  value="<%= post.title %>" >
                      <div class="invalid-feedback">
                          <%= error.title %> 
                      </div>
                    </div>

                    <div class="form-group my-3">
                        <label for="tiny-mce-post-body">Enter Your Post Body</label>
                        <textarea name="body" id="tiny-mce-post-body" class="form-control <%= error.body ? 'is-invalid' : '' %>"> <%= post.body %> </textarea>
                        <div class="invalid-feedback">
                            <%= error.body %>
                        </div>
                    </div>

                    <div class="form-group my-3">
                        <label for="tags">Enter Some Tags (Max 10)</label>
                        <input type="text" id="tags" name="tags" placeholder="tags1, tags2, tags3" class="form-control <%= error.tags ? 'is-invalid' : '' %>" value="<%= post.tags.join() %>">
                    </div>

                    <% if(post.thumbnail) { %>
                        <label style="display: block; margin-top: 10px; margin-bottom: 10px;"> Post Thumbnail </label>
                        <img src="<%= post.thumbnail %>" class="img-fluid ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}" alt="post thumbnail">
                    <% } %>

                    <div class="input-group mb-3 my-3">
                        <input type="file" class="form-control" name="post-thumbnail" id="inputGroupFile02">
                        <label class="input-group-text" for="inputGroupFile02">Upload</label>
                    </div>

                    <input type="submit" class="btn btn-primary" value="Update Post">
                    <a href="/posts/delete/<%= post._id %>" class="btn btn-danger">Delete Post</a>
               </form>
           </div>
        </div>
    </div>
</div>

<%- include('../../../partials/footer.ejs') %>

<script src="https://cdn.tiny.cloud/1/i2wnmbkwvudoohdj3tla0q2plytu8fyd8x5h3qyekzc763nd/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

<script src="/script//tinyMce.js"></script>

</body>

</html>